class ItemBiblioteca:
    def __init__(self, titulo, ano_publicacao):
        self.titulo = titulo
        self.ano_publicacao = ano_publicacao
        self._disponivel = True  # Atributo protegido

    def detalhes(self):
        return f"Título: {self.titulo}, Ano: {self.ano_publicacao}, Disponível: {'Sim' if self._disponivel else 'Não'}"

    def emprestar(self):
        if self._disponivel:
            self._disponivel = False
            return True
        return False

    def devolver(self):
        self._disponivel = True


class Livro(ItemBiblioteca):
    def __init__(self, titulo, ano_publicacao, autor, numero_paginas, isbn):
        super().__init__(titulo, ano_publicacao)
        self.autor = autor
        self.numero_paginas = numero_paginas
        self.isbn = isbn

    def detalhes(self):
        return (f"[Livro] Título: {self.titulo}, Autor: {self.autor}, Ano: {self.ano_publicacao}, "
                f"Páginas: {self.numero_paginas}, ISBN: {self.isbn}, Disponível: {'Sim' if self._disponivel else 'Não'}")


class Revista(ItemBiblioteca):
    def __init__(self, titulo, ano_publicacao, numero, periodicidade, editora):
        super().__init__(titulo, ano_publicacao)
        self.numero = numero
        self.periodicidade = periodicidade
        self.editora = editora

    def detalhes(self):
        return (f"[Revista] Título: {self.titulo}, Número: {self.numero}, Ano: {self.ano_publicacao}, "
                f"Periodicidade: {self.periodicidade}, Editora: {self.editora}, Disponível: {'Sim' if self._disponivel else 'Não'}")


class Usuario:
    def __init__(self, nome, id_usuario):
        self.nome = nome
        self.id_usuario = id_usuario
        self.itens_emprestados = []

    def emprestar_item(self, item):
        if item.emprestar():
            self.itens_emprestados.append(item)
            print(f"{self.nome} emprestou: {item.titulo}")
        else:
            print(f"{item.titulo} não está disponível para empréstimo.")

    def devolver_item(self, item):
        if item in self.itens_emprestados:
            item.devolver()
            self.itens_emprestados.remove(item)
            print(f"{self.nome} devolveu: {item.titulo}")
        else:
            print(f"{self.nome} não tem {item.titulo} emprestado.")

    def listar_emprestimos(self):
        if not self.itens_emprestados:
            print(f"{self.nome} não tem itens emprestados.")
        else:
            print(f"Itens emprestados por {self.nome}:")
            for item in self.itens_emprestados:
                print(item.detalhes())


# Exemplo de uso
def main():
    livro1 = Livro("Python para Iniciantes", 2020, "João Silva", 300, "123456789")
    revista1 = Revista("Ciência Hoje", 2023, 45, "Mensal", "Editora ABC")
    
    usuario1 = Usuario("Carlos", 101)
    usuario1.emprestar_item(livro1)
    usuario1.emprestar_item(revista1)
    usuario1.listar_emprestimos()
    
    usuario1.devolver_item(livro1)
    usuario1.listar_emprestimos()


if __name__ == "__main__":
    main()
